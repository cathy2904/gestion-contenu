{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/content/edit/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function EditContent({ params }: { params: { id: string } }) {\r\n  const [form, setForm] = useState({ title: '', content: '' });\r\n  const [media, setMedia] = useState<FileList | null>(null);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const fd = new FormData();\r\n    Object.entries(form).forEach(([key, value]) => fd.append(key, value));\r\n    if (media) Array.from(media).forEach((f) => fd.append('media', f));\r\n    await axios.put(`/api/content/${params.id}`, fd);\r\n    router.push(`/content/${params.id}`);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        value={form.title}\r\n        onChange={(e) => setForm({ ...form, title: e.target.value })}\r\n      />\r\n      <textarea\r\n        value={form.content}\r\n        onChange={(e) => setForm({ ...form, content: e.target.value })}\r\n      />\r\n      <input type=\"file\" multiple onChange={(e) => setMedia(e.target.files)} />\r\n      <button type=\"submit\">Enregistrer</button>\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 'use client';\r\n\r\n// import { useEffect, useState } from 'react';\r\n// import { useRouter, useParams } from 'next/navigation';\r\n\r\n// export default function EditContentPage() {\r\n//   const { id } = useParams();\r\n//   const router = useRouter();\r\n//   const [title, setTitle] = useState('');\r\n//   const [content, setContent] = useState('');\r\n//   const [media, setMedia] = useState<FileList | null>(null);\r\n\r\n//   useEffect(() => {\r\n//     const fetchContent = async () => {\r\n//       const res = await fetch(`http://localhost:3000/api/content/${id}`);\r\n//       const data = await res.json();\r\n//       setTitle(data.title);\r\n//       setContent(data.content);\r\n//     };\r\n//     if (id) fetchContent();\r\n//   }, [id]);\r\n\r\n//   const handleSubmit = async (e: React.FormEvent) => {\r\n//     e.preventDefault();\r\n//     await fetch(`http://localhost:3000/api/content/${id}`, {\r\n//       method: 'PUT',\r\n//       headers: { 'Content-Type': 'application/json' },\r\n//       body: JSON.stringify({ title, content }),\r\n//     });\r\n//     router.push('/content');\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"p-6 max-w-xl mx-auto\">\r\n//       <h1 className=\"text-xl font-semibold mb-4\">Modifier le contenu</h1>\r\n//       <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n//         <input\r\n//           type=\"text\"\r\n//           value={title}\r\n//           onChange={(e) => setTitle(e.target.value)}\r\n//           className=\"w-full border px-3 py-2 rounded\"\r\n//           placeholder=\"Titre\"\r\n//           required\r\n//         />\r\n//         <textarea\r\n//           value={content}\r\n//           onChange={(e) => setContent(e.target.value)}\r\n//           className=\"w-full border px-3 py-2 rounded\"\r\n//           placeholder=\"Contenu\"\r\n//           rows={6}\r\n//           required\r\n//         />\r\n//         <button\r\n//           type=\"submit\"\r\n//           className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n//         >\r\n//           Enregistrer\r\n//         </button>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,YAAY,EAAE,MAAM,EAA8B;IACxE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,OAAO;QAAI,SAAS;IAAG;IAC1D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB;IACpD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,KAAK,IAAI;QACf,OAAO,OAAO,CAAC,MAAM,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM,GAAK,GAAG,MAAM,CAAC,KAAK;QAC9D,IAAI,OAAO,MAAM,IAAI,CAAC,OAAO,OAAO,CAAC,CAAC,IAAM,GAAG,MAAM,CAAC,SAAS;QAC/D,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,OAAO,EAAE,EAAE,EAAE;QAC7C,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;IACrC;IAEA,qBACE,8OAAC;QAAK,UAAU;;0BACd,8OAAC;gBACC,MAAK;gBACL,OAAO,KAAK,KAAK;gBACjB,UAAU,CAAC,IAAM,QAAQ;wBAAE,GAAG,IAAI;wBAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oBAAC;;;;;;0BAE5D,8OAAC;gBACC,OAAO,KAAK,OAAO;gBACnB,UAAU,CAAC,IAAM,QAAQ;wBAAE,GAAG,IAAI;wBAAE,SAAS,EAAE,MAAM,CAAC,KAAK;oBAAC;;;;;;0BAE9D,8OAAC;gBAAM,MAAK;gBAAO,QAAQ;gBAAC,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0BACpE,8OAAC;gBAAO,MAAK;0BAAS;;;;;;;;;;;;AAG5B,EASA,gBAAgB;CAEhB,+CAA+C;CAC/C,0DAA0D;CAE1D,8CAA8C;CAC9C,gCAAgC;CAChC,gCAAgC;CAChC,4CAA4C;CAC5C,gDAAgD;CAChD,+DAA+D;CAE/D,sBAAsB;CACtB,yCAAyC;CACzC,4EAA4E;CAC5E,uCAAuC;CACvC,8BAA8B;CAC9B,kCAAkC;CAClC,SAAS;CACT,8BAA8B;CAC9B,cAAc;CAEd,yDAAyD;CACzD,0BAA0B;CAC1B,+DAA+D;CAC/D,uBAAuB;CACvB,yDAAyD;CACzD,kDAAkD;CAClD,UAAU;CACV,+BAA+B;CAC/B,OAAO;CAEP,aAAa;CACb,6CAA6C;CAC7C,4EAA4E;CAC5E,6DAA6D;CAC7D,iBAAiB;CACjB,wBAAwB;CACxB,0BAA0B;CAC1B,uDAAuD;CACvD,wDAAwD;CACxD,gCAAgC;CAChC,qBAAqB;CACrB,aAAa;CACb,oBAAoB;CACpB,4BAA4B;CAC5B,yDAAyD;CACzD,wDAAwD;CACxD,kCAAkC;CAClC,qBAAqB;CACrB,qBAAqB;CACrB,aAAa;CACb,kBAAkB;CAClB,0BAA0B;CAC1B,mFAAmF;CACnF,YAAY;CACZ,wBAAwB;CACxB,oBAAoB;CACpB,gBAAgB;CAChB,aAAa;CACb,OAAO;CACP,IAAI","debugId":null}}]
}