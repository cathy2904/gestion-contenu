{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/AIBTZ/lib/mongodb.ts"],"sourcesContent":["import { MongoClient } from 'mongodb';\r\n\r\nconst uri = process.env.MONGODB_URI || 'mongodb://localhost:2';\r\nconst options = {};\r\n\r\nlet client;\r\nlet clientPromise: Promise<MongoClient>;\r\n\r\nif (!process.env.MONGODB_URI) {\r\n  throw new Error('Please add your Mongo URI to .env.local');\r\n}\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  if (!global._mongoClientPromise) {\r\n    client = new MongoClient(uri, options);\r\n    global._mongoClientPromise = client.connect();\r\n  }\r\n  clientPromise = global._mongoClientPromise;\r\n} else {\r\n  client = new MongoClient(uri, options);\r\n  clientPromise = client.connect();\r\n}\r\n\r\nexport default clientPromise;"],"names":[],"mappings":";;;;;;;;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW,IAAI;AACvC,MAAM,UAAU,CAAC;AAEjB,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,wCAA4C;IAC1C,IAAI,CAAC,OAAO,mBAAmB,EAAE;QAC/B,SAAS,IAAI,YAAY,KAAK;QAC9B,OAAO,mBAAmB,GAAG,OAAO,OAAO;IAC7C;IACA,gBAAgB,OAAO,mBAAmB;AAC5C,OAAO;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/AIBTZ/app/articles/action.ts"],"sourcesContent":["\r\n\r\n// Type pour un article\r\n\r\nexport interface Article {\r\n  _id: string;\r\n  title: string;\r\n  content: string;\r\n  author: string;\r\n}\r\n\r\n//  base de données en mémoire\r\nlet articles: Article[] = [\r\n  {\r\n    _id: '1',\r\n    title: 'Premier article',\r\n    content: 'Ceci est le contenu du premier article.',\r\n    author: 'ALI', \r\n    \r\n  },\r\n  {\r\n    _id: '2',\r\n    title: 'Deuxième article',\r\n    content: 'Ceci est le contenu du deuxième article.',\r\n    author: 'AZA',\r\n    \r\n  },\r\n];\r\n\r\n// Récupérer tous les articles\r\nexport async function getArticles(): Promise<Article[]> {\r\n  try {\r\n    const res = await fetch('http://localhost:3000/articles');\r\n    if (!res.ok) {\r\n      throw new Error('Échec de la récupération des articles');\r\n    }\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des articles:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n\r\n// Récupérer un article par son ID\r\nexport async function getArticleById(id: string): Promise<Article | null> {\r\n  // Simuler un délai de chargement\r\n  await new Promise((resolve) => setTimeout(resolve, 500));\r\n  const article = articles.find((article) => article._id === id);\r\n  return article || null;\r\n}\r\n\r\n// Créer un nouvel article\r\nexport async function createArticle(article: Omit<Article, '_id'>): Promise<string> {\r\n  // Simuler un délai de chargement\r\n  await new Promise((resolve) => setTimeout(resolve, 500));\r\n  const newArticle = {\r\n    _id: (articles.length + 1).toString(), // Simuler un ID unique\r\n    ...article,\r\n    createdAt: new Date(),\r\n  };\r\n  articles.push(newArticle);\r\n  return newArticle._id;\r\n}\r\n\r\n// Modifier un article\r\nexport async function updateArticle(id: string, article: Partial<Article>): Promise<void> {\r\n  // Simuler un délai de chargement\r\n  await new Promise((resolve) => setTimeout(resolve, 500));\r\n  const index = articles.findIndex((a) => a._id === id);\r\n  if (index !== -1) {\r\n    articles[index] = { ...articles[index], ...article };\r\n  }\r\n}\r\n\r\n// Supprimer un article\r\nexport async function deleteArticle(id: string): Promise<void> {\r\n  // Simuler un délai de chargement\r\n  await new Promise((resolve) => setTimeout(resolve, 500));\r\n  articles = articles.filter((article) => article._id !== id);\r\n}"],"names":[],"mappings":"AAEA,uBAAuB;;;;;;;;AASvB,8BAA8B;AAC9B,IAAI,WAAsB;IACxB;QACE,KAAK;QACL,OAAO;QACP,SAAS;QACT,QAAQ;IAEV;IACA;QACE,KAAK;QACL,OAAO;QACP,SAAS;QACT,QAAQ;IAEV;CACD;AAGM,eAAe;IACpB,IAAI;QACF,MAAM,MAAM,MAAM,MAAM;QACxB,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,IAAI,MAAM;QAClB;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gDAAgD;QAC9D,OAAO,EAAE;IACX;AACF;AAIO,eAAe,eAAe,EAAU;IAC7C,iCAAiC;IACjC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,MAAM,UAAU,SAAS,IAAI,CAAC,CAAC,UAAY,QAAQ,GAAG,KAAK;IAC3D,OAAO,WAAW;AACpB;AAGO,eAAe,cAAc,OAA6B;IAC/D,iCAAiC;IACjC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,MAAM,aAAa;QACjB,KAAK,CAAC,SAAS,MAAM,GAAG,CAAC,EAAE,QAAQ;QACnC,GAAG,OAAO;QACV,WAAW,IAAI;IACjB;IACA,SAAS,IAAI,CAAC;IACd,OAAO,WAAW,GAAG;AACvB;AAGO,eAAe,cAAc,EAAU,EAAE,OAAyB;IACvE,iCAAiC;IACjC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,MAAM,QAAQ,SAAS,SAAS,CAAC,CAAC,IAAM,EAAE,GAAG,KAAK;IAClD,IAAI,UAAU,CAAC,GAAG;QAChB,QAAQ,CAAC,MAAM,GAAG;YAAE,GAAG,QAAQ,CAAC,MAAM;YAAE,GAAG,OAAO;QAAC;IACrD;AACF;AAGO,eAAe,cAAc,EAAU;IAC5C,iCAAiC;IACjC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,WAAW,SAAS,MAAM,CAAC,CAAC,UAAY,QAAQ,GAAG,KAAK;AAC1D","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/AIBTZ/app/articles/%5Bid%5D/page.tsx"],"sourcesContent":["import Image from \"next/image\";\r\nimport { notFound } from \"next/navigation\";\r\nimport dbClient from \"@/lib/mongodb\";\r\nimport { ObjectId } from \"mongodb\";\r\nimport Link from \"next/link\";\r\nimport { deleteArticle } from \"../action\";\r\n\r\ninterface ArticlePageProps {\r\n  params: {\r\n    id: string;\r\n  };\r\n}\r\n\r\nexport default async function ArticlePage(props: ArticlePageProps) {\r\n\r\n  const article = await dbClient\r\n    .db(\"next-articles\")\r\n    .collection(\"articles\")\r\n    .findOne({ _id: new ObjectId(props.params.id) });\r\n\r\n  console.log(article);\r\n\r\n  if (!article) {\r\n    return notFound();\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"container mx-auto bg-blue-700\">\r\n      <div className=\"p-2 flex items-center\">\r\n        <Image\r\n          width={200}\r\n          height={200}\r\n          src={article.avatar}\r\n          alt=\"article photo\"\r\n          className=\"border-4 rounded-full\"\r\n        />\r\n\r\n        <div className=\"flex-col text-white ml-5\">\r\n          <div className=\"text-2xl font-bold\">{article.name}</div>\r\n          <div>Article Since: {article.createdAt}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-2 justify-end p-5\">\r\n        <Link href={`/articles/${article._id}/edit`}  className=\"bg-yellow-300 p-3 rounded\">Edit</Link>\r\n\r\n        <form action={deleteArticle.bind(null, article._id)}>\r\n          <button className=\"bg-red-500 p-3 rounded\">Delete</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n     );\r\n    }"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;;;AAEA;AACA;;;;;;;;AAQe,eAAe,YAAY,KAAuB;IAE/D,MAAM,UAAU,MAAM,8GAAA,CAAA,UAAQ,CAC3B,EAAE,CAAC,iBACH,UAAU,CAAC,YACX,OAAO,CAAC;QAAE,KAAK,IAAI,SAAS,MAAM,MAAM,CAAC,EAAE;IAAE;IAEhD,QAAQ,GAAG,CAAC;IAEZ,IAAI,CAAC,SAAS;QACZ,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IAChB;IAIA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,6HAAA,CAAA,UAAK;wBACJ,OAAO;wBACP,QAAQ;wBACR,KAAK,QAAQ,MAAM;wBACnB,KAAI;wBACJ,WAAU;;;;;;kCAGZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAsB,QAAQ,IAAI;;;;;;0CACjD,8OAAC;;oCAAI;oCAAgB,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;0BAI1C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,GAAG,CAAC,KAAK,CAAC;wBAAG,WAAU;kCAA4B;;;;;;kCAEpF,8OAAC;wBAAK,QAAQ,yHAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,MAAM,QAAQ,GAAG;kCAChD,cAAA,8OAAC;4BAAO,WAAU;sCAAyB;;;;;;;;;;;;;;;;;;;;;;;AAKjD","debugId":null}}]
}