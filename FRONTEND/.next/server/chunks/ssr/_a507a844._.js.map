{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/components/chart/Chart.tsx"],"sourcesContent":["\"use client\";\r\nimport dynamic from \"next/dynamic\";\r\nimport \"chart.js/auto\";\r\n\r\nconst Bar = dynamic(() => import(\"react-chartjs-2\").then((mod) => mod.Bar), {\r\n  ssr: false,\r\n});\r\n\r\nconst data = {\r\n  labels: ['j', 'f', 'm', 'a'],\r\n  datasets: [\r\n    {\r\n      label: \"\",\r\n      data: [45, 55, 75, 85,],\r\n      backgroundColor: [\r\n        \"rgba(19,46,34,255)\",\r\n        \"rgba(19,46,34,255)\",\r\n        \"rgba(19,46,34,255)\",\r\n        \"rgba(19,46,34,255)\",\r\n        \r\n      ],\r\n      borderColor: [\r\n        \"rgba(19,46,34,255)\",\r\n        \"rgba(19,46,34,255)\",\r\n        \"rgba(19,46,34,255)\",\r\n        \"rgba(19,46,34,255)\",\r\n       \r\n      ],\r\n      borderWidth: 1,\r\n    },\r\n    {\r\n        label: \"\",\r\n        data: [80, 75, 85, 85,],\r\n        backgroundColor: [\r\n          \"rgba(30,72,54,255)\",\r\n          \"rgba(30,72,54,255)\",\r\n          \"rgba(30,72,54,255)\",\r\n          \"rgba(30,72,54,255)\",\r\n         \r\n        ],\r\n        borderColor: [\r\n          \"rgba(30,72,54,255)\",\r\n          \"rgba(30,72,54,255)\",\r\n          \"rgba(30,72,54,255)\",\r\n          \"rgba(30,72,54,255)\",\r\n\r\n        ],\r\n        borderWidth: 1,\r\n      },\r\n      {\r\n        label: \"\",\r\n        data: [55, 95, 40, 45],\r\n        backgroundColor: [\r\n          \"rgba(40,97,73,255)\",\r\n          \"rgba(40,97,73,255)\",\r\n          \"rgba(40,97,73,255)\",\r\n          \"rgba(40,97,73,255)\",\r\n          \r\n        ],\r\n        borderColor: [\r\n          \"rgba(40,97,73,255)\",\r\n          \"rgba(40,97,73,255)\",\r\n          \"rgba(40,97,73,255)\",\r\n          \"rgba(40,97,73,255)\",\r\n         \r\n        ],\r\n        borderWidth: 1,\r\n      },\r\n      {\r\n          label: \"\",\r\n          data: [85, 35, 55, 100],\r\n          backgroundColor: [\r\n            \"rgba(56,133,101,255)\",\r\n            \"rgba(56,133,101,255)\",\r\n            \"rgba(56,133,101,255)\",\r\n            \"rgba(56,133,101,255)\",\r\n           \r\n          ],\r\n          borderColor: [\r\n            \"rgba(56,133,101,255)\",\r\n            \"rgba(56,133,101,255)\",\r\n            \"rgba(56,133,101,255)\",\r\n            \"rgba(56,133,101,255)\",\r\n  \r\n          ],\r\n          borderWidth: 1,\r\n        },\r\n  ],\r\n};\r\n\r\nconst options = {\r\n  responsive: true,\r\n  plugins: {\r\n    legend: {\r\n      display: false,\r\n    },\r\n    title: {\r\n      display: false,\r\n      text: \"Ventes\",\r\n    },\r\n  },\r\n  scales: {\r\n    x: {\r\n      barPercentage: 1.0, // Remplissage complet\r\n      categoryPercentage: 1.0, // Suppression de l‚Äôespace entre les cat√©gories\r\n      title: {\r\n        display: false,\r\n        text: \"Categories\",\r\n      },\r\n      grid: {\r\n                display: true,\r\n                // color: 'rgba(53,53,53,255)',\r\n            },\r\n      ticks: {\r\n            display: true,\r\n        },\r\n    },\r\n    y: {\r\n      beginAtZero: true,\r\n      title: {\r\n        display: false,\r\n        text: \"Values\",\r\n      },\r\n      grid: {\r\n        display: true,\r\n        color: 'rgba(53,53,53,255)',\r\n    },\r\n    ticks: {\r\n        display: true,\r\n    },\r\n    },\r\n  },\r\n};\r\n\r\nconst BarChart = () => {\r\n  return (\r\n    <div className=\"flex w-[350px] h-[350px] md:w-[700px] md:h-[700px]\" >\r\n      <Bar data={data} options={options} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BarChart;\r\n"],"names":[],"mappings":";;;;AACA;AACA;;AAFA;;;;AAIA,MAAM,MAAM,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD,EAAE,IAAM,kKAA0B,IAAI,CAAC,CAAC,MAAQ,IAAI,GAAG;;;;;;IACvE,KAAK;;AAGP,MAAM,OAAO;IACX,QAAQ;QAAC;QAAK;QAAK;QAAK;KAAI;IAC5B,UAAU;QACR;YACE,OAAO;YACP,MAAM;gBAAC;gBAAI;gBAAI;gBAAI;aAAI;YACvB,iBAAiB;gBACf;gBACA;gBACA;gBACA;aAED;YACD,aAAa;gBACX;gBACA;gBACA;gBACA;aAED;YACD,aAAa;QACf;QACA;YACI,OAAO;YACP,MAAM;gBAAC;gBAAI;gBAAI;gBAAI;aAAI;YACvB,iBAAiB;gBACf;gBACA;gBACA;gBACA;aAED;YACD,aAAa;gBACX;gBACA;gBACA;gBACA;aAED;YACD,aAAa;QACf;QACA;YACE,OAAO;YACP,MAAM;gBAAC;gBAAI;gBAAI;gBAAI;aAAG;YACtB,iBAAiB;gBACf;gBACA;gBACA;gBACA;aAED;YACD,aAAa;gBACX;gBACA;gBACA;gBACA;aAED;YACD,aAAa;QACf;QACA;YACI,OAAO;YACP,MAAM;gBAAC;gBAAI;gBAAI;gBAAI;aAAI;YACvB,iBAAiB;gBACf;gBACA;gBACA;gBACA;aAED;YACD,aAAa;gBACX;gBACA;gBACA;gBACA;aAED;YACD,aAAa;QACf;KACL;AACH;AAEA,MAAM,UAAU;IACd,YAAY;IACZ,SAAS;QACP,QAAQ;YACN,SAAS;QACX;QACA,OAAO;YACL,SAAS;YACT,MAAM;QACR;IACF;IACA,QAAQ;QACN,GAAG;YACD,eAAe;YACf,oBAAoB;YACpB,OAAO;gBACL,SAAS;gBACT,MAAM;YACR;YACA,MAAM;gBACI,SAAS;YAEb;YACN,OAAO;gBACD,SAAS;YACb;QACJ;QACA,GAAG;YACD,aAAa;YACb,OAAO;gBACL,SAAS;gBACT,MAAM;YACR;YACA,MAAM;gBACJ,SAAS;gBACT,OAAO;YACX;YACA,OAAO;gBACH,SAAS;YACb;QACA;IACF;AACF;AAEA,MAAM,WAAW;IACf,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,MAAM;YAAM,SAAS;;;;;;;;;;;AAGhC;uCAEe","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\nimport RequireAuth from \"@/components/RequireAuth\";\r\nimport Nav from \"@/components/Nav\";\r\nimport BarChart from \"@/components/chart/Chart\";\r\nimport MobileBar from \"@/components/MobileBar\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { PieChart, Pie, Cell, Tooltip,BarChart, Legend, Bar, XAxis, YAxis, ResponsiveContainer } from \"recharts\";\r\n\r\nconst COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\", \"#ff8042\", \"#a4de6c\", \"#d0ed57\"];\r\n\r\n\r\nexport default function DashboardPage() {\r\n\r\n\r\n  const [stats, setStats] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:3003/api/content/stats\") // ou juste /api/content/stats si le proxy est configur√©\r\n      .then((res) => res.json())\r\n      .then(setStats)\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  if (!stats) return <p>Chargement des statistiques...</p>;\r\n  return (\r\n    // <RequireAuth>\r\n    //   <Nav/>\r\n    //   <MobileBar/>\r\n      \r\n    //   <div>\r\n    //     <h1>Dashboard s√©curis√©</h1>\r\n    //   </div>\r\n    // </RequireAuth>\r\n\r\n     <div className=\"p-6\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">üìä Dashboard des contenus</h1>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n        <div className=\"bg-white p-6 shadow rounded-xl\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">Total des contenus</h2>\r\n          <p className=\"text-4xl font-bold text-indigo-600\">{stats.total}</p>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 shadow rounded-xl\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">Contenus par statut</h2>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <PieChart>\r\n              <Pie\r\n                dataKey=\"count\"\r\n                data={stats.byStatus}\r\n                nameKey=\"_id\"\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                outerRadius={80}\r\n                label\r\n              >\r\n                {stats.byStatus.map((_, index) => (\r\n                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n              <Legend />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-6 shadow rounded-xl\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Contenus par r√©seau social</h2>\r\n        <ResponsiveContainer width=\"100%\" height={300}>\r\n          <BarChart data={stats.byPlatform}>\r\n            <XAxis dataKey=\"_id\" />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Legend />\r\n            <Bar dataKey=\"count\" fill=\"#8884d8\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n// 'use client';\r\n// import { useAuth } from '../contexts/authProvider';\r\n// import { useEffect } from 'react';\r\n// import { useRouter } from 'next/navigation';\r\n\r\n// export default function DashboardPage() {\r\n//   const { user, loading, logout } = useAuth();\r\n//   const router = useRouter();\r\n\r\n//   useEffect(() => {\r\n//     if (!loading && !user) {\r\n//       router.push('/auth/login');\r\n//     }\r\n//   }, [user, loading]);\r\n\r\n//   if (loading || !user) {\r\n//     return <div>Chargement...</div>;\r\n//   }\r\n  \r\n\r\n//   return (\r\n//     <main className=\"dashboard\">\r\n//       <h1>Tableau de Bord</h1>\r\n//       <p>Bienvenue, {user.username} ({user.email})</p>\r\n//       <p>Tu es connect√© ({user.username})</p>\r\n//       <p>tes infos {JSON.stringify(user)}</p>\r\n//       <button onClick={logout} className=\"logout-btn\">\r\n//         D√©connexion\r\n//       </button>\r\n      \r\n//       {/* Ajoutez ici le contenu de votre dashboard */}\r\n//     </main>\r\n//   );\r\n// }"],"names":[],"mappings":";;;;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;;;;;AAQA,MAAM,SAAS;IAAC;IAAW;IAAW;IAAW;IAAW;IAAW;CAAU;AAGlE,SAAS;IAGtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAExC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,2CAA2C,wDAAwD;SACtG,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,UACL,KAAK,CAAC,QAAQ,KAAK;IACxB,GAAG,EAAE;IAEL,IAAI,CAAC,OAAO,qBAAO,8OAAC;kBAAE;;;;;;IACtB,OACE,gBAAgB;IAChB,WAAW;IACX,iBAAiB;IAEjB,UAAU;IACV,kCAAkC;IAClC,WAAW;IACX,iBAAiB;kBAEhB,8OAAC;QAAI,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAE,WAAU;0CAAsC,MAAM,KAAK;;;;;;;;;;;;kCAGhE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC,mKAAA,CAAA,sBAAmB;gCAAC,OAAM;gCAAO,QAAQ;0CACxC,cAAA,8OAAC,oJAAA,CAAA,WAAQ;;sDACP,8OAAC,+IAAA,CAAA,MAAG;4CACF,SAAQ;4CACR,MAAM,MAAM,QAAQ;4CACpB,SAAQ;4CACR,IAAG;4CACH,IAAG;4CACH,aAAa;4CACb,KAAK;sDAEJ,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,sBACtB,8OAAC,oJAAA,CAAA,OAAI;oDAAuB,MAAM,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;mDAApD,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;sDAG9B,8OAAC,uJAAA,CAAA,UAAO;;;;;sDACR,8OAAC,sJAAA,CAAA,SAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC,mKAAA,CAAA,sBAAmB;wBAAC,OAAM;wBAAO,QAAQ;kCACxC,cAAA,8OAAC,oJAAA,CAAA,WAAQ;4BAAC,MAAM,MAAM,UAAU;;8CAC9B,8OAAC,qJAAA,CAAA,QAAK;oCAAC,SAAQ;;;;;;8CACf,8OAAC,qJAAA,CAAA,QAAK;;;;;8CACN,8OAAC,uJAAA,CAAA,UAAO;;;;;8CACR,8OAAC,sJAAA,CAAA,SAAM;;;;;8CACP,8OAAC,mJAAA,CAAA,MAAG;oCAAC,SAAQ;oCAAQ,MAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtC,EAIA,gBAAgB;CAChB,sDAAsD;CACtD,qCAAqC;CACrC,+CAA+C;CAE/C,4CAA4C;CAC5C,iDAAiD;CACjD,gCAAgC;CAEhC,sBAAsB;CACtB,+BAA+B;CAC/B,oCAAoC;CACpC,QAAQ;CACR,yBAAyB;CAEzB,4BAA4B;CAC5B,uCAAuC;CACvC,MAAM;CAGN,aAAa;CACb,mCAAmC;CACnC,iCAAiC;CACjC,yDAAyD;CACzD,gDAAgD;CAChD,gDAAgD;CAChD,yDAAyD;CACzD,sBAAsB;CACtB,kBAAkB;CAElB,0DAA0D;CAC1D,cAAc;CACd,OAAO;CACP,IAAI","debugId":null}}]
}