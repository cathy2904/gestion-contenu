{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/contenu/deepseek/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function ArticleGenerator() {\r\n  const [title, setTitle] = useState('');\r\n  const [article, setArticle] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [length, setLength] = useState('medium'); // 'short', 'medium', 'long'\r\n  const [tone, setTone] = useState('professional'); // 'professional', 'casual', 'enthusiastic'\r\n\r\n  const getWordCount = () => {\r\n    switch(length) {\r\n      case 'short': return 'environ 300 mots';\r\n      case 'medium': return 'environ 500 mots';\r\n      case 'long': return 'environ 800 mots';\r\n      default: return 'environ 500 mots';\r\n    }\r\n  };\r\n\r\n  const getToneInstruction = () => {\r\n    switch(tone) {\r\n      case 'professional': return 'sur un ton professionnel';\r\n      case 'casual': return 'sur un ton décontracté et accessible';\r\n      case 'enthusiastic': return 'sur un ton enthousiaste et engageant';\r\n      default: return '';\r\n    }\r\n  };\r\n\r\n  const generateArticle = async () => {\r\n    if (!title.trim()) return;\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const wordCount = getWordCount();\r\n      const toneInstruction = getToneInstruction();\r\n      \r\n      const response = await axios.post(\r\n        'https://api.deepseek.com/v1/chat/completions',\r\n        {\r\n          model: 'deepseek-chat',\r\n          messages: [\r\n            {\r\n              role: 'system',\r\n              content: `Vous êtes un rédacteur expert. Générez un article de blog ${toneInstruction} en français.`\r\n            },\r\n            {\r\n              role: 'user',\r\n              content: `Écris un article de blog détaillé avec le titre : \"${title}\". \r\n              L'article doit faire ${wordCount}, être bien structuré avec des paragraphes et des sous-titres. \r\n              Le style doit être ${toneInstruction}.`\r\n            }\r\n          ],\r\n          temperature: 0.7,\r\n          max_tokens: length === 'short' ? 200 : length === 'medium' ? 500 : 700\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${process.env.NEXT_PUBLIC_DEEPSEEK_API_KEY}`\r\n          }\r\n        }\r\n      );\r\n      \r\n      setArticle(response.data.choices[0].message.content);\r\n    } catch (err) {\r\n      console.error('Erreur lors de la génération:', err);\r\n      setError('Une erreur est survenue lors de la génération de l\\'article.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-4xl\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Générateur d'articles avancé</h1>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n        <div>\r\n          <label htmlFor=\"title\" className=\"block  mb-2 font-medium\">\r\n            Titre de l'article :\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            className=\"w-full p-2 border rounded\"\r\n            placeholder=\"Entrez le titre de l'article\"\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label htmlFor=\"length\" className=\"block mb-2 font-medium\">\r\n            Longueur de l'article :\r\n          </label>\r\n          <select\r\n            id=\"length\"\r\n            value={length}\r\n            onChange={(e) => setLength(e.target.value)}\r\n            className=\"w-full p-2  border rounded\"\r\n          >\r\n            <option value=\"short\">Court (300 mots)</option>\r\n            <option value=\"medium\">Moyen (500 mots)</option>\r\n            <option value=\"long\">Long (800 mots)</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div>\r\n          <label htmlFor=\"tone\" className=\"block  text-black mb-2 font-medium\">\r\n            Ton de l'article :\r\n          </label>\r\n          <select\r\n            id=\"tone\"\r\n            value={tone}\r\n            onChange={(e) => setTone(e.target.value)}\r\n            className=\"w-full p-2  border rounded\"\r\n          >\r\n            <option value=\"professional\">Professionnel</option>\r\n            <option value=\"casual\">Décontracté</option>\r\n            <option value=\"enthusiastic\">Enthousiaste</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      \r\n      <button\r\n        onClick={generateArticle}\r\n        disabled={isLoading}\r\n        className=\"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg disabled:opacity-50 transition-colors\"\r\n      >\r\n        {isLoading ? (\r\n          <span className=\"flex items-center justify-center\">\r\n            <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n            Génération en cours...\r\n          </span>\r\n        ) : 'Générer l\\'article'}\r\n      </button>\r\n      \r\n      {error && (\r\n        <div className=\"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {article && (\r\n        <div className=\"mt-8\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h2 className=\"text-2xl font-bold\">Article généré :</h2>\r\n            <button \r\n              onClick={() => navigator.clipboard.writeText(article)}\r\n              className=\"text-sm text-black bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded\"\r\n            >\r\n              Copier \r\n            </button>\r\n          </div>\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            <h1 className=\"text-3xl font-bold text-black mb-6\">{title}</h1>\r\n            <div className=\"prose max-w-none text-black\" dangerouslySetInnerHTML={{ __html: article.replace(/\\n/g, '<br />') }} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}