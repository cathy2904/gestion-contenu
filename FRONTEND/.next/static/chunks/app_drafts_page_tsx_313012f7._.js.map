{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/drafts/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function DraftsPage() {\r\n  const [documents, setDocuments] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3003/api/documents') // Assure-toi d’avoir une route GET\r\n      .then(res => res.json())\r\n      .then(data => setDocuments(data));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Documents enregistrés</h1>\r\n      {documents.length === 0 ? (\r\n        <p>Aucun document trouvé.</p>\r\n      ) : (\r\n        <ul className=\"space-y-4\">\r\n          {documents.map(doc => (\r\n            <li key={doc._id} className=\"border p-4 rounded shadow\">\r\n              <h2 className=\"text-lg font-semibold\">{doc.title}</h2>\r\n              <p className=\"text-sm text-gray-600\">{doc.createdAt}</p>\r\n              <p className=\"mt-2\" title={doc.summary}>{doc.summary?.slice(0,250)}...</p>\r\n              \r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n// 'use client';\r\n// import { useEffect, useState } from 'react';\r\n\r\n// export default function DraftsPage() {\r\n//   const [docs, setDocs] = useState<any[]>([]);\r\n//   const [loading, setLoading] = useState(true);\r\n\r\n//   const fetchDocs = async () => {\r\n//     const res = await fetch('http://localhost:3001/documents');\r\n//     const data = await res.json();\r\n//     setDocs(data);\r\n//     setLoading(false);\r\n//   };\r\n\r\n//   const handleDelete = async (id: string) => {\r\n//     await fetch(`http://localhost:3001/documents/${id}`, { method: 'DELETE' });\r\n//     fetchDocs();\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchDocs();\r\n//   }, []);\r\n\r\n//   return (\r\n//     <div className=\"p-4\">\r\n//       <h1 className=\"text-xl font-bold mb-4\">Tous les documents</h1>\r\n//       {loading ? <p>Chargement...</p> : (\r\n//         <ul className=\"space-y-4\">\r\n//           {docs.map(doc => (\r\n//             <li key={doc._id} className=\"border p-4 rounded shadow\">\r\n//               <h2 className=\"font-bold\">{doc.title}</h2>\r\n//               <p className=\"text-sm text-gray-500\">Résumé : {doc.summary?.slice(0, 200)}...</p>\r\n//               <div className=\"mt-2 flex gap-2\">\r\n//                 <button onClick={() => handleDelete(doc._id)} className=\"bg-red-500 text-white px-2 py-1 rounded\">Supprimer</button>\r\n//               </div>\r\n//             </li>\r\n//           ))}\r\n//         </ul>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":";;;;AACA;;;AADA;;AAGe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAEpD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM,uCAAuC,mCAAmC;aAC7E,IAAI;wCAAC,CAAA,MAAO,IAAI,IAAI;uCACpB,IAAI;wCAAC,CAAA,OAAQ,aAAa;;QAC/B;+BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;YACvC,UAAU,MAAM,KAAK,kBACpB,6LAAC;0BAAE;;;;;qCAEH,6LAAC;gBAAG,WAAU;0BACX,UAAU,GAAG,CAAC,CAAA,oBACb,6LAAC;wBAAiB,WAAU;;0CAC1B,6LAAC;gCAAG,WAAU;0CAAyB,IAAI,KAAK;;;;;;0CAChD,6LAAC;gCAAE,WAAU;0CAAyB,IAAI,SAAS;;;;;;0CACnD,6LAAC;gCAAE,WAAU;gCAAO,OAAO,IAAI,OAAO;;oCAAG,IAAI,OAAO,EAAE,MAAM,GAAE;oCAAK;;;;;;;;uBAH5D,IAAI,GAAG;;;;;;;;;;;;;;;;AAW5B,EAIA,gBAAgB;CAChB,+CAA+C;CAE/C,yCAAyC;CACzC,iDAAiD;CACjD,kDAAkD;CAElD,oCAAoC;CACpC,kEAAkE;CAClE,qCAAqC;CACrC,qBAAqB;CACrB,yBAAyB;CACzB,OAAO;CAEP,iDAAiD;CACjD,kFAAkF;CAClF,mBAAmB;CACnB,OAAO;CAEP,sBAAsB;CACtB,mBAAmB;CACnB,YAAY;CAEZ,aAAa;CACb,4BAA4B;CAC5B,uEAAuE;CACvE,4CAA4C;CAC5C,qCAAqC;CACrC,+BAA+B;CAC/B,uEAAuE;CACvE,2DAA2D;CAC3D,kGAAkG;CAClG,kDAAkD;CAClD,uIAAuI;CACvI,uBAAuB;CACvB,oBAAoB;CACpB,gBAAgB;CAChB,gBAAgB;CAChB,WAAW;CACX,aAAa;CACb,OAAO;CACP,IAAI;GAzEoB;KAAA","debugId":null}}]
}