{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/components/Editor.tsx"],"sourcesContent":["'use client'\r\nimport { useEffect } from 'react'\r\nimport { useEditor, EditorContent } from '@tiptap/react'\r\nimport StarterKit from '@tiptap/starter-kit'\r\nimport Link from '@tiptap/extension-link'\r\nimport Image from '@tiptap/extension-image'\r\nimport Heading from '@tiptap/extension-heading'\r\nimport Bold from '@tiptap/extension-bold'\r\nimport BulletList from '@tiptap/extension-bullet-list'\r\nimport ListItem from '@tiptap/extension-list-item'\r\n\r\ninterface Props {\r\n  content: string\r\n  onUpdate: (html: string) => void\r\n}\r\n\r\nexport default function Editor({ content, onUpdate }: Props) {\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Link.configure({ openOnClick: false }),\r\n      Image,\r\n      Heading.configure({ levels: [1, 2, 3] }),\r\n      Bold,\r\n      BulletList,\r\n      ListItem,\r\n    ],\r\n    content,\r\n    onUpdate: ({ editor }) => {\r\n      onUpdate(editor.getHTML())\r\n    },\r\n  })\r\n\r\n  // üîÅ Forcer la mise √† jour du contenu si `content` change\r\n  useEffect(() => {\r\n    if (editor && content) {\r\n      editor.commands.setContent(content)\r\n    }\r\n  }, [content, editor])\r\n\r\n  if (!editor) return null\r\n\r\n  return (\r\n    <div className=\"border p-4 rounded\">\r\n      <div className=\"mb-2 space-x-2\">\r\n        <button onClick={() => editor.chain().focus().toggleBold().run()}>Gras</button>\r\n        <button onClick={() => editor.chain().focus().toggleBulletList().run()}>Liste</button>\r\n        <button onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}>Titre 1</button>\r\n        <button onClick={() => {\r\n          const url = prompt(\"URL du lien :\")\r\n          if (url) editor.chain().focus().setLink({ href: url }).run()\r\n        }}>Lien</button>\r\n        <button onClick={() => {\r\n          const url = prompt(\"URL de l'image :\")\r\n          if (url) editor.chain().focus().setImage({ src: url }).run()\r\n        }}>Image</button>\r\n      </div>\r\n\r\n      <EditorContent editor={editor} className=\"min-h-[200px] border p-2 rounded bg-black\" />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;;AAgBe,SAAS,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAS;;IACzD,MAAM,SAAS,CAAA,GAAA,qKAAA,CAAA,YAAS,AAAD,EAAE;QACvB,YAAY;YACV,8JAAA,CAAA,UAAU;YACV,iKAAA,CAAA,UAAI,CAAC,SAAS,CAAC;gBAAE,aAAa;YAAM;YACpC,kKAAA,CAAA,UAAK;YACL,oKAAA,CAAA,UAAO,CAAC,SAAS,CAAC;gBAAE,QAAQ;oBAAC;oBAAG;oBAAG;iBAAE;YAAC;YACtC,iKAAA,CAAA,UAAI;YACJ,2KAAA,CAAA,UAAU;YACV,yKAAA,CAAA,UAAQ;SACT;QACD;QACA,QAAQ;wCAAE,CAAC,EAAE,MAAM,EAAE;gBACnB,SAAS,OAAO,OAAO;YACzB;;IACF;IAEA,0DAA0D;IAC1D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR,IAAI,UAAU,SAAS;gBACrB,OAAO,QAAQ,CAAC,UAAU,CAAC;YAC7B;QACF;2BAAG;QAAC;QAAS;KAAO;IAEpB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,UAAU,GAAG,GAAG;kCAAI;;;;;;kCAClE,6LAAC;wBAAO,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,gBAAgB,GAAG,GAAG;kCAAI;;;;;;kCACxE,6LAAC;wBAAO,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,aAAa,CAAC;gCAAE,OAAO;4BAAE,GAAG,GAAG;kCAAI;;;;;;kCACjF,6LAAC;wBAAO,SAAS;4BACf,MAAM,MAAM,OAAO;4BACnB,IAAI,KAAK,OAAO,KAAK,GAAG,KAAK,GAAG,OAAO,CAAC;gCAAE,MAAM;4BAAI,GAAG,GAAG;wBAC5D;kCAAG;;;;;;kCACH,6LAAC;wBAAO,SAAS;4BACf,MAAM,MAAM,OAAO;4BACnB,IAAI,KAAK,OAAO,KAAK,GAAG,KAAK,GAAG,QAAQ,CAAC;gCAAE,KAAK;4BAAI,GAAG,GAAG;wBAC5D;kCAAG;;;;;;;;;;;;0BAGL,6LAAC,qKAAA,CAAA,gBAAa;gBAAC,QAAQ;gBAAQ,WAAU;;;;;;;;;;;;AAG/C;GA7CwB;;QACP,qKAAA,CAAA,YAAS;;;KADF","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/content/create/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Editor from '@/app/components/Editor';\r\n\r\ninterface Content {\r\n  _id: string;\r\n  title: string;\r\n  style: string;\r\n  length: string;\r\n  provider: string;\r\n  platform: string;\r\n  content: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport default function Home() {\r\n  const [title, setTitle] = useState('');\r\n  const [style, setStyle] = useState('standard');\r\n  const [length, setLength] = useState('medium');\r\n  const [platform, setPlatform] =  useState('linkedin');\r\n  const [provider, setProvider] = useState<'gpt-4' | 'deepseek'>('gpt-4')\r\n  const [generatedContent, setGeneratedContent] = useState('<p>Contenu initial g√©n√©r√©</p>');\r\n  const [contents, setContents] = useState<Content[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  // const [html, setHtml] = useState(\"<p>Contenu initial g√©n√©r√© par GPT</p>\");\r\n\r\n\r\n  const handleGenerate = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await axios.post('http://localhost:3003/api/content/generate', {\r\n        title,\r\n        style,\r\n        length,\r\n        provider,\r\n        platform,\r\n      });\r\n\r\n      setGeneratedContent(response.data.content);\r\n    } catch (err) {\r\n      console.error('Erreur g√©n√©ration :', err);\r\n      setError('Erreur lors de la g√©n√©ration');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  \r\n  const saveContent = async () => {\r\n    try {\r\n      console.log('tentative d enregistrement')\r\n      const response  = await axios.post('http://localhost:3003/api/content', {\r\n        title,\r\n        style,\r\n        length,\r\n        provider,\r\n        platform,\r\n        content: generatedContent,\r\n        \r\n      });\r\n     console.log(\"‚úÖ Enregistrement r√©ussi :\", response.data);\r\n    alert(\"Contenu enregistr√© avec succ√®s !\");\r\n    fetchContents(); // rafra√Æchit la liste\r\n  } catch (error) {\r\n    console.error(\" Erreur enregistrement :\", error);\r\n    alert(\"Erreur lors de l'enregistrement.\");\r\n  }\r\n  };\r\n\r\n  const fetchContents = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:3003/api/content');\r\n      setContents(res.data);\r\n    } catch (err) {\r\n      console.error('Erreur lors du fetch des contenus :', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchContents();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <main className=\"p-6 max-w-3xl mx-auto\">\r\n      <h1 className=\"text-3xl font-bold mb-4\">G√©n√©rateur de contenu IA</h1>\r\n\r\n      <div className=\"space-y-4\">\r\n        <input\r\n          className=\"w-full border p-2 rounded\"\r\n          type=\"text\"\r\n          placeholder=\"Titre de l'article\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n\r\n        <select className=\"w-full border p-2 rounded\" value={style} onChange={(e) => setStyle(e.target.value)}>\r\n          <option value=\"standard\">Style standard</option>\r\n          <option value=\"marketing\">Style marketing</option>\r\n          <option value=\"humour\">Style humour</option>\r\n        <option value=\"formal\">Formel</option>\r\n             <option value=\"casual\">D√©contract√©</option>\r\n             <option value=\"professional\">Professionnel</option>\r\n             <option value=\"academic\">Acad√©mique</option>\r\n             <option value=\"creative\">Cr√©atif</option>\r\n             <option value=\"persuasive\">Persuasif</option>\r\n             <option value=\"informative\">Informatif</option>\r\n        </select>\r\n\r\n        <select className=\"w-full border p-2 rounded\" value={length} onChange={(e) => setLength(e.target.value)}>\r\n          <option value=\"short\">un text Court</option>\r\n          <option value=\"medium\">un texteMoyen</option>\r\n          <option value=\"long\"> un texte Long</option>\r\n        </select>\r\n\r\n <select className=\"w-full border p-2 rounded\" value={platform} onChange={(e) => setPlatform(e.target.value)}>\r\n          <option value=\"linkedin\">LINKEDIN</option>\r\n          <option value=\"blog\">BLOG</option>\r\n          <option value=\"facebook\"> FACEBOOK</option>\r\n          <option value=\"instagram\"> INSTAGRAM</option>\r\n          <option value=\"twiter\"> TWITER(X)</option>\r\n        </select>\r\n\r\n        <select className=\"w-full border p-2 rounded\" value={provider} \r\n        onChange={(e) => setProvider(e.target.value as 'gpt-4' | 'deepseek')}>\r\n          <option value=\"gpt-4\">GPT-4</option>\r\n          <option value=\"gpt-4o\">GPT-4o</option>\r\n          <option value=\"deepseek\">DeepSeek</option>\r\n        </select>\r\n\r\n        <button\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded\"\r\n          onClick={handleGenerate}\r\n          disabled={loading}\r\n        >\r\n          {loading ? 'G√©n√©ration...' : 'G√©n√©rer'}\r\n        </button>\r\n      </div>\r\n\r\n      {generatedContent && (\r\n        <div className=\"mt-6\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">Contenu g√©n√©r√© :</h2>\r\n          <Editor content={generatedContent} onUpdate={setGeneratedContent} />\r\n          {/* <textarea\r\n            className=\"w-full border p-2 rounded min-h-[200px]\"\r\n            value={generatedContent}\r\n            readOnly\r\n          /> */}\r\n          \r\n          <button\r\n            className=\"mt-2 bg-green-600 text-white px-4 py-2 rounded\"\r\n            onClick={saveContent} disabled={!generatedContent} \r\n          >\r\n            Enregistrer\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      \r\n    </main>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}