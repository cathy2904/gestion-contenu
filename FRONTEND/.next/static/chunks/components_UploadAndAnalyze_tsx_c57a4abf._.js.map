{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/components/UploadAndAnalyze.tsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\n\r\nconst UploadAndAnalyze = () => {\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [summary, setSummary] = useState<string>('');\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files && event.target.files[0]) {\r\n      setFile(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!file) {\r\n      alert('Veuillez sélectionner un fichier.');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      // Envoyer le fichier à votre API route Next.js\r\n      const response = await fetch('analyze/', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Erreur lors de l\\'analyse du document.');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setSummary(data.summary);\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n      alert('Une erreur est survenue lors de l\\'analyse du document.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Uploader et Analyser un Document</h1>\r\n      <input type=\"file\" onChange={handleFileChange} />\r\n      <button onClick={handleSubmit} disabled={isLoading}>\r\n        {isLoading ? 'Analyse en cours...' : 'Analyser'}\r\n      </button>\r\n      {summary && (\r\n        <div>\r\n          <h2>Résumé:</h2>\r\n          <p>{summary}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadAndAnalyze;"],"names":[],"mappings":";;;;AACA;;;AADA;;AAGA,MAAM,mBAAmB;;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAEpD,MAAM,mBAAmB,CAAC;QACxB,IAAI,MAAM,MAAM,CAAC,KAAK,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YAC/C,QAAQ,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE;QAC/B;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM;YACT,MAAM;YACN;QACF;QAEA,aAAa;QAEb,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,IAAI;YACF,+CAA+C;YAC/C,MAAM,WAAW,MAAM,MAAM,YAAY;gBACvC,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,WAAW,KAAK,OAAO;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,WAAW;YACzB,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAM,MAAK;gBAAO,UAAU;;;;;;0BAC7B,6LAAC;gBAAO,SAAS;gBAAc,UAAU;0BACtC,YAAY,wBAAwB;;;;;;YAEtC,yBACC,6LAAC;;kCACC,6LAAC;kCAAG;;;;;;kCACJ,6LAAC;kCAAG;;;;;;;;;;;;;;;;;;AAKd;GA1DM;KAAA;uCA4DS","debugId":null}}]
}