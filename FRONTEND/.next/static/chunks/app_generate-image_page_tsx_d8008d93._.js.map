{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/generate-image/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport RequireAuth from '@/components/RequireAuth';\r\n\r\ninterface GeneratedImage {\r\n  _id: string;\r\n  prompt: string;\r\n  style?: string;\r\n  provider: string;\r\n//   size: string;\r\n  n: number;\r\n  url: string[];\r\n//   userId: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport default function AdminImagesPage() {\r\n  const [images, setImages] = useState<GeneratedImage[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchImages = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:3003/api/images');\r\n        if (!res.ok) throw new Error('Erreur lors du chargement des images');\r\n        const data = await res.json();\r\n        setImages(data);\r\n      } catch (err: any) {\r\n        setError(err.message || 'Erreur inconnue');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchImages();\r\n  }, []);\r\n\r\n  return (\r\n    \r\n      <div className=\"max-w-6xl mx-auto px-4 py-10\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h1 className=\"text-3xl font-bold\">Toutes les Images Générées</h1>\r\n          <Link\r\n            href=\"/generate-image/create\"\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n          >\r\n            + Créer une nouvelle image\r\n          </Link>\r\n        </div>\r\n\r\n        {loading && <p>Chargement...</p>}\r\n        {error && <p className=\"text-red-600\">{error}</p>}\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {images.map((img) => (\r\n            <div key={img._id} className=\"border rounded p-4 shadow bg-gray\">\r\n              <div className=\"text-sm text-white-700 space-y-1\">\r\n                {/* <p><strong>Utilisateur :</strong> {img.userId}</p> */}\r\n                <p><strong>Prompt :</strong> {img.prompt}</p>\r\n                {img.style && <p><strong>Style :</strong> {img.style}</p>}\r\n                {/* <p><strong>Taille :</strong> {img.size}</p> */}\r\n                <p><strong>Fournisseur :</strong> {img.provider}</p>\r\n                <p><strong>Nombre :</strong> {img.n}</p>\r\n                {/* <img src={img.url} alt=\"Illustration\" className=\"max-w-md rounded-md mb-4\" /> */}\r\n                 \r\n\r\n\r\n                {/* <p><strong>Date :</strong> {new Date(img.createdAt).toLocaleString()}</p> */}\r\n              </div>\r\n              \r\n                    <div className=\"grid grid-cols-2 gap-2 mt-3\">\r\n                        {Array.isArray(img.url) && img.url.length > 0 ? (\r\n                         img.url.map((url, index) => (\r\n                        <img\r\n                        key={index}\r\n                        src={url}\r\n                        alt={`Image générée ${index + 1}`}\r\n                        className=\"w-full h-auto rounded\"\r\n                        />\r\n                         ))\r\n                        ) : (\r\n                         <p className=\"text-sm text-gray-500\">Aucune image disponible</p>\r\n                        )}\r\n\r\n\r\n                    </div>\r\n              </div>\r\n            \r\n          ))}\r\n        </div>\r\n      </div>\r\n    \r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAkBe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAoB,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,MAAM;yDAAc;oBAClB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM;wBACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;wBAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,UAAU;oBACZ,EAAE,OAAO,KAAU;wBACjB,SAAS,IAAI,OAAO,IAAI;oBAC1B,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;oCAAG,EAAE;IAEL,qBAEI,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;YAKF,yBAAW,6LAAC;0BAAE;;;;;;YACd,uBAAS,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;0BAEvC,6LAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,oBACX,6LAAC;wBAAkB,WAAU;;0CAC3B,6LAAC;gCAAI,WAAU;;kDAEb,6LAAC;;0DAAE,6LAAC;0DAAO;;;;;;4CAAiB;4CAAE,IAAI,MAAM;;;;;;;oCACvC,IAAI,KAAK,kBAAI,6LAAC;;0DAAE,6LAAC;0DAAO;;;;;;4CAAgB;4CAAE,IAAI,KAAK;;;;;;;kDAEpD,6LAAC;;0DAAE,6LAAC;0DAAO;;;;;;4CAAsB;4CAAE,IAAI,QAAQ;;;;;;;kDAC/C,6LAAC;;0DAAE,6LAAC;0DAAO;;;;;;4CAAiB;4CAAE,IAAI,CAAC;;;;;;;;;;;;;0CAQ/B,6LAAC;gCAAI,WAAU;0CACV,MAAM,OAAO,CAAC,IAAI,GAAG,KAAK,IAAI,GAAG,CAAC,MAAM,GAAG,IAC3C,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,sBACnB,6LAAC;wCAED,KAAK;wCACL,KAAK,CAAC,cAAc,EAAE,QAAQ,GAAG;wCACjC,WAAU;uCAHL;;;;8DAOJ,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;uBA1BxC,IAAI,GAAG;;;;;;;;;;;;;;;;AAsC7B;GA9EwB;KAAA","debugId":null}}]
}