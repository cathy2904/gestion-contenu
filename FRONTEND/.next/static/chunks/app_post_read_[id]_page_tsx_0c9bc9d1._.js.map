{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/post/read/%5Bid%5D/page.tsx"],"sourcesContent":["// 'use client'\n// import { fetcher } from '@/app/libs'\n// import useSWR from 'swr'\n\n// export default function Detail({params}: {params:{id :number}}) {\n//   const {data: post, isLoading, error}  = useSWR(`/api/posts/${params.id}`,fetcher)\n//   if(isLoading) return <div><span>Loading...</span></div>\n//   if (!post) return null;\n//   return (\n//     <div className='w-full'>\n//         <h2 className='text-center font-bold text-3xl py-3'>{post.result.title}</h2>\n    \n//        <div className='w-full max-w-4xl m-auto border-[1px] p-3 border-gray-500 rounded-md'>\n//          <p dangerouslySetInnerHTML={{ __html: post.result.content}}></p>\n       \n//        </div>\n//     </div>\n//   )\n// }\n\n'use client';\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface Post {\n  id: string;\n  title: string;\n  content: string;\n  author: string;\n  imagePath?: string;\n  created_at: string;\n}\n\nexport default function ReadPost() {\n  const { id } = useParams();\n  const [post, setPost] = useState<Post | null>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const res = await fetch(`/api/posts/${id}`);\n        if (!res.ok) throw new Error('Article non trouvé');\n        setPost(await res.json());\n      } catch (error) {\n        console.error('Fetch error:', error);\n        router.push('/post');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPost();\n  }, [id, router]);\n\n  if (loading) return <div className=\"text-center p-8\">Chargement...</div>;\n  if (!post) return <div className=\"text-center p-8\">Article introuvable</div>;\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <Link href=\"/post\" className=\"text-blue-500 mb-4 inline-block\">\n        ← Retour\n      </Link>\n      <h1 className=\"text-2xl font-bold mb-4\">{post.title}</h1>\n      <div className=\"bg-black p-6 rounded shadow\">\n        <div className=\"mb-4 text-gray-600\">\n          <span className=\"font-semibold\">Auteur :</span> {post.author}\n        </div>\n        \n        {/* <div className=\"mb-4 text-gray-600\">\n          <span className=\"font-semibold\">contenu :</span> {post.content}\n        </div> */}\n        {/* <div className=\"mb-4 text-gray-600\">\n          <span className=\"font-semibold\">Date :</span> {new Date(post.created_at).toLocaleDateString()}\n        </div> */}\n        <div className=\"mb-4 \">\n        {post.imagePath ? (\n                    <img\n                      src={`http://localhost:3003${post.imagePath}`}\n                      alt={post.title}\n                      className=\"h-16 w-16 object-cover rounded\"\n                      onError={(e) => {\n                        (e.currentTarget as HTMLImageElement).style.display = 'none';\n                      }}\n                    />\n                  ) : (\n                    <div className=\"h-16 w-16 bg-white-200 rounded flex items-center justify-center text-xs\">\n                      Pas d'Image\n                    </div>\n                  )}\n\n        </div>\n        <div className=\"prose max-w-none\">\n          {post.content}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,eAAe;AACf,uCAAuC;AACvC,2BAA2B;AAE3B,oEAAoE;AACpE,sFAAsF;AACtF,4DAA4D;AAC5D,4BAA4B;AAC5B,aAAa;AACb,+BAA+B;AAC/B,uFAAuF;AAEvF,+FAA+F;AAC/F,4EAA4E;AAE5E,gBAAgB;AAChB,aAAa;AACb,MAAM;AACN,IAAI;;;;;AAGJ;AACA;AACA;;;AAHA;;;;AAce,SAAS;;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,MAAM;gDAAY;oBAChB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI;wBAC1C,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;wBAC7B,QAAQ,MAAM,IAAI,IAAI;oBACxB,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,gBAAgB;wBAC9B,OAAO,IAAI,CAAC;oBACd,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;6BAAG;QAAC;QAAI;KAAO;IAEf,IAAI,SAAS,qBAAO,6LAAC;QAAI,WAAU;kBAAkB;;;;;;IACrD,IAAI,CAAC,MAAM,qBAAO,6LAAC;QAAI,WAAU;kBAAkB;;;;;;IAEnD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,+JAAA,CAAA,UAAI;gBAAC,MAAK;gBAAQ,WAAU;0BAAkC;;;;;;0BAG/D,6LAAC;gBAAG,WAAU;0BAA2B,KAAK,KAAK;;;;;;0BACnD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAgB;;;;;;4BAAe;4BAAE,KAAK,MAAM;;;;;;;kCAS9D,6LAAC;wBAAI,WAAU;kCACd,KAAK,SAAS,iBACH,6LAAC;4BACC,KAAK,CAAC,qBAAqB,EAAE,KAAK,SAAS,EAAE;4BAC7C,KAAK,KAAK,KAAK;4BACf,WAAU;4BACV,SAAS,CAAC;gCACP,EAAE,aAAa,CAAsB,KAAK,CAAC,OAAO,GAAG;4BACxD;;;;;iDAGF,6LAAC;4BAAI,WAAU;sCAA0E;;;;;;;;;;;kCAMrG,6LAAC;wBAAI,WAAU;kCACZ,KAAK,OAAO;;;;;;;;;;;;;;;;;;AAKvB;GAjEwB;;QACP,qIAAA,CAAA,YAAS;QAGT,qIAAA,CAAA,YAAS;;;KAJF","debugId":null}}]
}