{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/content/schedule/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { FaFacebook, FaInstagram, FaLinkedin } from 'react-icons/fa';\r\nimport { platform } from 'os';\r\n\r\n\r\nexport default function ScheduleContentPage() {\r\n  const { id } = useParams();\r\n  const router = useRouter();\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [platform, setPlatform] = useState('');\r\n  const [publicationDate, setPublicationDate] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchContent = async () => {\r\n      const res = await fetch(`http://localhost:3000/api/content/${id}`);\r\n      const data = await res.json();\r\n      setTitle(data.title);\r\n      setContent(data.content);\r\n      setPlatform(data.platform)\r\n    };\r\n    if (id) fetchContent();\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    await fetch(`http://localhost:3000/api/content/schedule/${id}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ title, content, publicationDate }),\r\n    });\r\n    router.push('/content');\r\n  };\r\n\r\n  const connectSocial = (platform: string) => {\r\n    const urls: Record<string, string> = {\r\n      facebook: 'https://www.facebook.com/v18.0/dialog/oauth',\r\n      instagram: 'https://api.instagram.com/oauth/authorize',\r\n      linkedin: 'https://www.linkedin.com/oauth/v2/authorization',\r\n    };\r\n    window.open(urls[platform], '_blank');\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-xl mx-auto\">\r\n      <h1 className=\"text-xl font-semibold mb-4\">Planifier la publication</h1>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          placeholder=\"Titre\"\r\n          required\r\n        />\r\n\r\n        <textarea\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          placeholder=\"Contenu\"\r\n          rows={5}\r\n          required\r\n        />\r\n        {/* <input\r\n          type=\"text\"\r\n          value={platform}\r\n          onChange={(e) => setPlatform(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          placeholder=\"Platform\"\r\n          \r\n        /> */}\r\n        <input\r\n          type=\"datetime-local\"\r\n          value={publicationDate}\r\n          onChange={(e) => setPublicationDate(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          required\r\n        />\r\n\r\n         {/* <div className=\"flex justify-between items-center gap-3 mt-4\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded\"\r\n            onClick={() => connectSocial('facebook')}\r\n          >\r\n            <FaFacebook /> Connecter Facebook\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"flex items-center gap-2 px-3 py-2 bg-pink-600 text-white rounded\"\r\n            onClick={() => connectSocial('instagram')}\r\n          >\r\n            <FaInstagram /> Connecter Instagram\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"flex items-center gap-2 px-3 py-2 bg-blue-800 text-white rounded\"\r\n            onClick={() => connectSocial('linkedin')}\r\n          >\r\n            <FaLinkedin /> Connecter LinkedIn\r\n          </button>\r\n        </div> */}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n        >\r\n          Planifier\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAQe,SAAS;;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACR,MAAM;8DAAe;oBACnB,MAAM,MAAM,MAAM,MAAM,CAAC,kCAAkC,EAAE,IAAI;oBACjE,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,SAAS,KAAK,KAAK;oBACnB,WAAW,KAAK,OAAO;oBACvB,YAAY,KAAK,QAAQ;gBAC3B;;YACA,IAAI,IAAI;QACV;wCAAG;QAAC;KAAG;IAEP,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,MAAM,CAAC,2CAA2C,EAAE,IAAI,EAAE;YAC9D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;gBAAS;YAAgB;QACzD;QACA,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,gBAAgB,CAAC;QACrB,MAAM,OAA+B;YACnC,UAAU;YACV,WAAW;YACX,UAAU;QACZ;QACA,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;IAC9B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,6LAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,6LAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,WAAU;wBACV,aAAY;wBACZ,QAAQ;;;;;;kCAGV,6LAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,WAAU;wBACV,aAAY;wBACZ,MAAM;wBACN,QAAQ;;;;;;kCAUV,6LAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;wBAClD,WAAU;wBACV,QAAQ;;;;;;kCA0BV,6LAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;GA3GwB;;QACP,qIAAA,CAAA,YAAS;QACT,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}}]
}