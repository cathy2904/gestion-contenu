{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/komba/Gestion-contenu/FRONTEND/app/content/schedule/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\n\r\nexport default function ScheduleContentPage() {\r\n  const { id } = useParams();\r\n  const router = useRouter();\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [publicationDate, setPublicationDate] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchContent = async () => {\r\n      const res = await fetch(`http://localhost:3003/api/content/${id}`);\r\n      const data = await res.json();\r\n      setTitle(data.title);\r\n      setContent(data.content);\r\n    };\r\n    if (id) fetchContent();\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    await fetch(`http://localhost:3003/api/content/schedule/${id}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ title, content, publicationDate }),\r\n    });\r\n    router.push('/content');\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-xl mx-auto\">\r\n      <h1 className=\"text-xl font-semibold mb-4\">Planifier la publication</h1>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          placeholder=\"Titre\"\r\n          required\r\n        />\r\n        <textarea\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          placeholder=\"Contenu\"\r\n          rows={5}\r\n          required\r\n        />\r\n        <input\r\n          type=\"datetime-local\"\r\n          value={publicationDate}\r\n          onChange={(e) => setPublicationDate(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          required\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n        >\r\n          Planifier\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n// \"use client\";\r\n\r\n// import { useEffect, useState } from \"react\";\r\n// import { useParams, useRouter } from \"next/navigation\";\r\n// import { Eye, Pencil, Calendar, Trash2 } from 'lucide-react';\r\n\r\n// export interface Content {\r\n//   _id: string;\r\n//   title: string;\r\n//   content: string;\r\n//   user: string;\r\n//   publicationDate: Date;\r\n//   statut: 'brouillon' | 'programmé' | 'publié';\r\n\r\n// }\r\n\r\n// export default function ScheduleContentPage() {\r\n//   const { id } = useParams();\r\n//   const router = useRouter();\r\n//   const [title, setTitle] = useState(\"\");\r\n//   const [content, setContent] = useState(\"\");\r\n//   const [publicationDate, setPublicationDate] = useState(\"\");\r\n\r\n//   useEffect(() => {\r\n//     fetch(`http://localhost:3003/api/content/${id}`)\r\n//       .then((res) => res.json())\r\n//       .then((data) => {\r\n//         setTitle(data.title);\r\n//         setContent(data.content);\r\n//         if (data.publicationDate) {\r\n//           setPublicationDate(new Date(data.publicationDate).toISOString().slice(0, 16));\r\n//         }\r\n//       });\r\n//   }, [id]);\r\n\r\n//   const handleSubmit = async (e: any) => {\r\n//     e.preventDefault();\r\n//     await fetch(`http://localhost:3003/api/content/schedule/${id}`, {\r\n//       method: \"PUT\",\r\n//       headers: {\r\n//         \"Content-Type\": \"application/json\",\r\n//       },\r\n//       body: JSON.stringify({ \r\n//         title,\r\n//         content,\r\n//         publicationDate }),\r\n//     });\r\n//     router.push(\"/content\");\r\n//   };\r\n\r\n//   return (\r\n//     <form onSubmit={handleSubmit} className=\"p-6\">\r\n//       <h1 className=\"text-2xl font-bold mb-4\">Planifier la publication</h1>\r\n//       <p className=\"mb-2 font-semibold\">{title}</p>\r\n//       <input\r\n//         type=\"datetime-local\"\r\n//         value={publicationDate}\r\n//         onChange={(e) => setPublicationDate(e.target.value)}\r\n//         className=\"block w-full p-2 border mb-4\"\r\n//       />\r\n//       <input\r\n//         type=\"text\"\r\n//         value={title}\r\n//         onChange={(e) => setTitle(e.target.value)}\r\n//         className=\"block w-full p-2 border mb-4\"\r\n//         placeholder=\"Titre\"\r\n//       />\r\n//       <textarea\r\n//         value={content}\r\n//         onChange={(e) => setContent(e.target.value)}\r\n//         className=\"block w-full p-2 border mb-4\"\r\n//         rows={6}\r\n//         placeholder=\"Contenu\"\r\n//       ></textarea>\r\n//       <button type=\"submit\" className=\"bg-green-500 text-white px-4 py-2 rounded\">\r\n//         Planifier\r\n//       </button>\r\n//     </form>\r\n//   );\r\n// }\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}